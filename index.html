<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kor-radio</title>
  <style>
    :root{
      --wood1:#8a5a34;
      --wood2:#6f4324;
      --wood3:#5b341a;
      --beige1:#efe3cf;
      --beige2:#e3d3b8;
      --metal1:#d9d2c6;
      --metal2:#b9b0a2;
      --ink:#1f1a14;
      --muted:#5b4a3b;
      --accent:#b30d0d;
      --shadow: 0 28px 70px rgba(0,0,0,.25);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 20% 10%, #fff, transparent 60%),
        radial-gradient(1200px 600px at 80% 20%, #f7f1e6, transparent 60%),
        linear-gradient(180deg, #fbf7ef, #f1eadc);
      padding: 26px;
      display:flex;
      justify-content:center;
    }
    .wrap{
      width:min(1120px, 100%);
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 18px;
      align-items:start;
    }
    @media (max-width: 980px){
      .wrap{ grid-template-columns: 1fr; }
    }

    /* --- RADIO CABINET --- */
    .radio{
      border-radius: 22px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
      background:
        linear-gradient(180deg, rgba(255,255,255,.18), transparent 40%),
        linear-gradient(90deg, rgba(255,255,255,.06), transparent 30%),
        linear-gradient(135deg, var(--wood1), var(--wood2) 55%, var(--wood3));
      border: 1px solid rgba(0,0,0,.22);
      padding: 18px;
    }
    /* wood grain */
    .radio::before{
      content:"";
      position:absolute; inset:0;
      background:
        repeating-linear-gradient(90deg,
          rgba(0,0,0,.06) 0 2px,
          rgba(255,255,255,.02) 2px 6px,
          rgba(0,0,0,.03) 6px 10px);
      opacity:.35;
      mix-blend-mode:multiply;
      pointer-events:none;
    }
    .radio::after{
      content:"";
      position:absolute; inset:10px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.18);
      pointer-events:none;
    }

    .radioTop{
      position:relative;
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap: 10px;
      padding-bottom: 10px;
      z-index:1;
    }
    .badge{
      display:inline-flex;
      gap:12px;
      align-items:center;
      padding: 10px 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(0,0,0,.15);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.20);
      backdrop-filter: blur(2px);
    }
    .mark{
      width: 40px; height: 40px;
      border-radius: 10px;
      background: linear-gradient(180deg, var(--metal1), var(--metal2));
      border: 1px solid rgba(0,0,0,.25);
      display:grid;
      place-items:center;
      font-weight:900;
      letter-spacing:.06em;
      color: rgba(0,0,0,.55);
      text-shadow: 0 1px 0 rgba(255,255,255,.45);
      user-select:none;
    }
    .title{
      margin:0;
      font-weight:900;
      letter-spacing:.18em;
      font-size: 14px;
      color: rgba(255,255,255,.88);
      text-transform:uppercase;
    }
    .subtitle{
      margin:4px 0 0;
      font-size: 12px;
      color: rgba(255,255,255,.70);
    }
    .helpBtn{
      width: 38px; height: 38px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.25);
      background: linear-gradient(180deg, var(--metal1), var(--metal2));
      box-shadow: 0 10px 18px rgba(0,0,0,.25);
      cursor:pointer;
      font-weight:900;
      color: rgba(0,0,0,.65);
      user-select:none;
    }

    .radioBody{
      position:relative;
      z-index:1;
      display:grid;
      grid-template-columns: 1.05fr 1fr;
      gap: 16px;
      align-items:stretch;
      margin-top: 6px;
    }
    @media (max-width: 980px){
      .radioBody{ grid-template-columns: 1fr; }
    }

    /* --- SPEAKER --- */
    .speaker{
      border-radius: 18px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.10), transparent 45%),
        linear-gradient(180deg, #3b2818, #2a1b10);
      border: 1px solid rgba(0,0,0,.35);
      padding: 14px;
      min-height: 320px;
      box-shadow: inset 0 14px 30px rgba(0,0,0,.35);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .cloth{
      flex:1;
      border-radius: 14px;
      background:
        radial-gradient(circle at 20% 20%, rgba(255,255,255,.12), transparent 40%),
        radial-gradient(circle at 80% 30%, rgba(0,0,0,.20), transparent 55%),
        repeating-linear-gradient(0deg, rgba(0,0,0,.18) 0 1px, rgba(255,255,255,.04) 1px 5px),
        repeating-linear-gradient(90deg, rgba(0,0,0,.10) 0 1px, rgba(255,255,255,.03) 1px 6px),
        linear-gradient(180deg, var(--beige1), var(--beige2));
      border: 1px solid rgba(0,0,0,.22);
      box-shadow: inset 0 10px 22px rgba(0,0,0,.18);
    }
    .speakerFooter{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-top: 12px;
      color: rgba(255,255,255,.70);
      font-size: 12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      user-select:none;
    }
    .modelTag{
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(0,0,0,.25);
    }

    /* --- TUNER PANEL --- */
    .panel{
      border-radius: 18px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.16), rgba(0,0,0,.08)),
        linear-gradient(180deg, #2b2118, #1f1812);
      border: 1px solid rgba(0,0,0,.35);
      box-shadow: inset 0 12px 26px rgba(0,0,0,.35);
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap: 12px;
    }

    .dialGlass{
      border-radius: 14px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.14)),
        linear-gradient(180deg, #e9e2d6, #cfc5b5);
      border: 1px solid rgba(0,0,0,.28);
      box-shadow:
        inset 0 2px 0 rgba(255,255,255,.45),
        inset 0 -14px 24px rgba(0,0,0,.12);
      padding: 10px 12px;
      position:relative;
      overflow:hidden;
      user-select:none;
    }
    .dialGlass::before{
      content:"";
      position:absolute;
      inset:-40px -60px auto auto;
      width:220px; height:140px;
      transform:rotate(18deg);
      background: linear-gradient(180deg, rgba(255,255,255,.55), transparent);
      opacity:.35;
      pointer-events:none;
    }
    .dialRow{
      display:flex;
      justify-content:space-between;
      font-size: 12px;
      color: rgba(0,0,0,.65);
      font-weight:800;
      letter-spacing:.06em;
    }
    .dialNeedle{
      position:absolute;
      top: 10px;
      bottom: 10px;
      width: 2px;
      left: 12px;
      background: var(--accent);
      box-shadow: 0 0 0 1px rgba(255,255,255,.55);
      border-radius: 2px;
    }
    .freqLabel{
      margin-top: 6px;
      font-size: 11px;
      color: rgba(0,0,0,.55);
      letter-spacing:.18em;
      text-transform:uppercase;
      display:flex;
      justify-content:space-between;
    }

    .nowBox{
      color: rgba(255,255,255,.92);
      padding: 6px 2px 0;
      min-height: 84px;
    }
    .nowName{
      font-weight:900;
      font-size: 16px;
      letter-spacing:.02em;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .nowMeta{
      font-size: 12px;
      color: rgba(255,255,255,.70);
      margin-top: 3px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .status{
      font-size: 12px;
      color: rgba(255,255,255,.65);
      margin-top: 10px;
    }

    /* --- KNOBS --- */
    .controls{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      flex-wrap:wrap;
    }
    .knobCluster{
      display:flex;
      gap: 10px;
      align-items:center;
    }
    .btn{
      border: 1px solid rgba(0,0,0,.35);
      border-radius: 14px;
      padding: 10px 12px;
      background: linear-gradient(180deg, var(--metal1), var(--metal2));
      box-shadow: 0 10px 18px rgba(0,0,0,.28);
      cursor:pointer;
      font-weight:900;
      color: rgba(0,0,0,.65);
      user-select:none;
    }
    .btn:active{ transform: translateY(1px); }
    .playBtn{
      border-radius: 999px;
      padding: 12px 16px;
      border: 2px solid rgba(179,13,13,.40);
      position:relative;
    }

    .smallBtns{
      display:flex;
      gap: 8px;
    }
    .mini{
      width: 44px; height: 44px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      padding:0;
    }
    .toggleOn{
      outline: 3px solid rgba(179,13,13,.15);
    }

    /* --- PROGRESS --- */
    .progressWrap{
      margin-top: 4px;
    }
    .bar{
      height: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.14);
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.35);
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(179,13,13,.75), rgba(179,13,13,.20));
    }
    .timeRow{
      display:flex;
      justify-content:space-between;
      font-size: 12px;
      color: rgba(255,255,255,.65);
      margin-top: 6px;
      user-select:none;
    }

    /* --- BOTTOM --- */
    .bottomRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      flex-wrap:wrap;
      color: rgba(255,255,255,.70);
      font-size: 12px;
      margin-top: 2px;
    }
    .vol{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(0,0,0,.35);
      user-select:none;
    }
    input[type="range"]{ width: 160px; }
    .link{
      color: rgba(255,255,255,.78);
      text-decoration: none;
      border-bottom: 1px dashed rgba(255,255,255,.35);
    }

    /* --- PLAYLIST "SONG BOOK" --- */
    .book{
      border-radius: 18px;
      background: linear-gradient(180deg, #fffaf0, #f2eadc);
      border: 1px solid rgba(0,0,0,.12);
      box-shadow: 0 18px 45px rgba(0,0,0,.14);
      padding: 16px;
    }
    .book h2{
      margin: 0 0 10px;
      font-size: 14px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color: rgba(0,0,0,.68);
    }
    .list{
      margin:0;
      padding:0;
      list-style:none;
      display:grid;
      gap: 8px;
      max-height: 520px;
      overflow:auto;
      padding-right: 6px;
    }
    .item{
      display:flex;
      gap:10px;
      align-items:center;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid rgba(0,0,0,.10);
      background: rgba(255,255,255,.65);
      cursor:pointer;
      user-select:none;
    }
    .dot{
      width: 10px; height: 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.20);
      flex:0 0 auto;
    }
    .item.active{
      background: rgba(179,13,13,.10);
      border-color: rgba(179,13,13,.22);
    }
    .item.active .dot{
      background: var(--accent);
      box-shadow: 0 6px 14px rgba(179,13,13,.22);
    }
    .itemTitle{
      font-weight:900;
      font-size: 13px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .itemSub{
      font-size: 12px;
      color: rgba(0,0,0,.55);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- RADIO -->
    <div class="radio">
      <div class="radioTop">
        <div class="badge">
          <div class="mark">FM</div>
          <div>
            <div class="title">KOR-RADIO</div>
            <div class="subtitle">√Öbne Stemmer ‚Ä¢ Tr√¶-kabinet</div>
          </div>
        </div>
        <button class="helpBtn" id="btnHelp" title="Hj√¶lp">?</button>
      </div>

      <div class="radioBody">
        <div class="speaker">
          <div class="cloth"></div>
          <div class="speakerFooter">
            <span class="modelTag">TRANSISTOR</span>
            <span class="modelTag">SOLID STATE</span>
          </div>
        </div>

        <div class="panel">
          <div class="dialGlass">
            <div class="dialRow">
              <span>88</span><span>92</span><span>96</span><span>100</span><span>104</span><span>108</span>
            </div>
            <div class="dialNeedle" id="dialNeedle"></div>
            <div class="freqLabel">
              <span>FM MHz</span>
              <span id="freqReadout">96.0</span>
            </div>
          </div>

          <div class="nowBox">
            <div class="nowName" id="nowName">Ikke startet endnu</div>
            <div class="nowMeta" id="nowMeta">Tryk ‚ñ∂ Start for at spille</div>
            <div class="status" id="statusHint">Tip: Shuffle giver ‚Äúradio-feeling‚Äù.</div>
          </div>

          <div class="controls">
            <div class="knobCluster">
              <button class="btn" id="btnPrev" title="Forrige">‚üµ</button>
              <button class="btn playBtn" id="btnPlay" title="Afspil/Pause">‚ñ∂ Start</button>
              <button class="btn" id="btnNext" title="N√¶ste">‚ü∂</button>
            </div>
            <div class="smallBtns">
              <button class="btn mini" id="btnShuffle" title="Shuffle">üîÄ</button>
              <button class="btn mini toggleOn" id="btnLoop" title="Loop">üîÅ</button>
            </div>
          </div>

          <div class="progressWrap">
            <div class="bar" id="bar"><div id="barFill"></div></div>
            <div class="timeRow">
              <span id="tCur">0:00</span>
              <span id="tDur">0:00</span>
            </div>
          </div>

          <div class="bottomRow">
            <div class="vol">
              VOL
              <input id="vol" type="range" min="0" max="1" step="0.01" value="0.85" />
            </div>
            <div>
              <span id="count">0</span> numre ‚Ä¢ <a class="link" href="#" id="openTrack">√Öbn fil</a>
            </div>
          </div>

          <audio id="audio" preload="metadata"></audio>
        </div>
      </div>
    </div>

    <!-- PLAYLIST -->
    <div class="book">
      <h2>Playlist</h2>
      <ul class="list" id="list"></ul>
      <div style="margin-top:10px;font-size:12px;color:rgba(0,0,0,.55);">
        Klik et nummer for at v√¶lge. N√•r et nummer slutter, g√•r den videre.
      </div>
    </div>

  </div>

<script>
  // --- DIN PLAYLIST (filnavne matcher din audio-mappe p√• GitHub) ---
const TRACKS = [
  { title: "1. 21-4",                     artist: "√Öbne Stemmer", url: "01-21-4.mp3" },
  { title: "2. Weather With You",         artist: "√Öbne Stemmer", url: "02-weather-with-you.mp3" },
  { title: "3. Fragile",                  artist: "√Öbne Stemmer", url: "03-fragile.mp3" },
  { title: "4. Ordinary World",           artist: "√Öbne Stemmer", url: "04-Ordinary-World.mp3" },
  { title: "5. Det kun vigtigt",          artist: "√Öbne Stemmer", url: "05-det-kun-vigtigt-hvad-det-er.mp3" },
  { title: "6. Frit Land",                artist: "√Öbne Stemmer", url: "06-frit-land.mp3" },
  { title: "7. I morgen er der osse en dag", artist: "√Öbne Stemmer", url: "07-imorgen-er-der-osse-en-dag.mp3" },
  { title: "8. Africa",                   artist: "√Öbne Stemmer", url: "08-africa.mp3" },
  { title: "9. Afterglow",                artist: "√Öbne Stemmer", url: "09-afterglow.mp3" }
];


  // --- ELEMENTS ---
  const el = (id)=>document.getElementById(id);
  const audio = el("audio");
  const listEl = el("list");
  const nowName = el("nowName");
  const nowMeta = el("nowMeta");
  const statusHint = el("statusHint");
  const btnPlay = el("btnPlay");
  const btnNext = el("btnNext");
  const btnPrev = el("btnPrev");
  const btnShuffle = el("btnShuffle");
  const btnLoop = el("btnLoop");
  const bar = el("bar");
  const barFill = el("barFill");
  const tCur = el("tCur");
  const tDur = el("tDur");
  const vol = el("vol");
  const count = el("count");
  const openTrack = el("openTrack");
  const dialNeedle = el("dialNeedle");
  const freqReadout = el("freqReadout");
  const btnHelp = el("btnHelp");

  let index = 0;
  let isShuffle = false;
  let isLoop = true;

  function fmt(sec){
    if (!isFinite(sec) || sec < 0) return "0:00";
    sec = Math.floor(sec);
    const m = Math.floor(sec/60);
    const s = String(sec%60).padStart(2,"0");
    return `${m}:${s}`;
  }

  function renderList(){
    listEl.innerHTML = "";
    TRACKS.forEach((t,i)=>{
      const li = document.createElement("li");
      li.className = "item";
      li.innerHTML = `
        <span class="dot" aria-hidden="true"></span>
        <div style="min-width:0;">
          <div class="itemTitle">${t.title}</div>
          <div class="itemSub">${t.artist || ""}</div>
        </div>
      `;
      li.addEventListener("click", ()=> load(i, true));
      listEl.appendChild(li);
    });
    count.textContent = TRACKS.length;
  }

  function setActive(){
    [...listEl.children].forEach((li,i)=> li.classList.toggle("active", i===index));
  }

  function moveNeedle(){
    // kosmetisk: flyt n√•l + ‚Äúfrekvens‚Äù 88..108
    const pct = (index / Math.max(1, TRACKS.length - 1)); // 0..1
    const leftPx = 12; // start i dialGlass
    const rightPad = 12;
    // dialNeedle ligger i dialGlass med padding 12, s√• vi bruger calc
    dialNeedle.style.left = `calc(${leftPx}px + ${pct} * (100% - ${leftPx + rightPad}px))`;
    const freq = 88 + pct * 20; // 88..108
    freqReadout.textContent = freq.toFixed(1);
  }

  function load(i, autoplay=false){
    index = (i + TRACKS.length) % TRACKS.length;
    const t = TRACKS[index];
    audio.src = t.url;

    nowName.textContent = t.title;
    nowMeta.textContent = t.artist || "";
    openTrack.href = t.url;

    setActive();
    moveNeedle();

    btnPlay.textContent = "‚ñ∂ Start";
    statusHint.textContent = "Tryk ‚ñ∂ Start (autoplay kan v√¶re blokeret i browseren).";

    if (autoplay){
      audio.play().then(()=>{
        btnPlay.textContent = "‚è∏ Pause";
        statusHint.textContent = isShuffle ? "Shuffle t√¶ndt ‚Äî radio-feeling!" : "Afspiller i r√¶kkef√∏lge.";
      }).catch(()=>{
        statusHint.textContent = "Klik ‚ñ∂ Start for at afspille (browser kr√¶ver et klik).";
      });
    }
  }

  function next(){
    if (isShuffle && TRACKS.length > 1){
      let n = index;
      while (n === index) n = Math.floor(Math.random()*TRACKS.length);
      load(n, true);
    } else {
      load(index + 1, true);
    }
  }
  function prev(){ load(index - 1, true); }

  btnPlay.addEventListener("click", ()=>{
    if (!audio.src) load(index, false);
    if (audio.paused){
      audio.play().then(()=>{
        btnPlay.textContent = "‚è∏ Pause";
        statusHint.textContent = isShuffle ? "Shuffle t√¶ndt ‚Äî radio-feeling!" : "Afspiller i r√¶kkef√∏lge.";
      }).catch(()=>{
        statusHint.textContent = "Kunne ikke starte. Tjek at dine links er direkte lydfiler (.mp3).";
      });
    } else {
      audio.pause();
      btnPlay.textContent = "‚ñ∂ Start";
      statusHint.textContent = "Sat p√• pause.";
    }
  });

  btnNext.addEventListener("click", next);
  btnPrev.addEventListener("click", prev);

  btnShuffle.addEventListener("click", ()=>{
    isShuffle = !isShuffle;
    btnShuffle.classList.toggle("toggleOn", isShuffle);
    statusHint.textContent = isShuffle ? "Shuffle t√¶ndt ‚Äî radio-feeling!" : "Shuffle slukket ‚Äî afspiller i r√¶kkef√∏lge.";
  });

  btnLoop.addEventListener("click", ()=>{
    isLoop = !isLoop;
    btnLoop.classList.toggle("toggleOn", isLoop);
    statusHint.textContent = isLoop ? "Loop t√¶ndt ‚Äî spiller videre." : "Loop slukket ‚Äî stopper efter sidste nummer.";
  });

  audio.addEventListener("ended", ()=>{
    if (index === TRACKS.length - 1 && !isLoop && !isShuffle){
      btnPlay.textContent = "‚ñ∂ Start";
      statusHint.textContent = "F√¶rdig (loop er slukket).";
      return;
    }
    next();
  });

  audio.addEventListener("timeupdate", ()=>{
    const p = (audio.currentTime / (audio.duration || 1)) * 100;
    barFill.style.width = `${Math.min(100, Math.max(0,p))}%`;
    tCur.textContent = fmt(audio.currentTime);
    tDur.textContent = fmt(audio.duration);
  });

  bar.addEventListener("click", (e)=>{
    const r = bar.getBoundingClientRect();
    const x = (e.clientX - r.left) / r.width;
    if (audio.duration) audio.currentTime = x * audio.duration;
  });

  vol.addEventListener("input", ()=> audio.volume = parseFloat(vol.value));
  audio.volume = parseFloat(vol.value);

  btnHelp.addEventListener("click", ()=>{
    alert(
`Kor-radio hj√¶lp
- Autoplay med lyd er blokeret i de fleste browsere.
- Klik ‚ñ∂ Start for at afspille.
- Shuffle giver radio-feeling.

Hvis afspilning fejler:
- Tjek at mp3-links virker direkte i browseren.
- Filnavne (store/sm√• bogstaver + mellemrum) skal matche 1:1.`
    );
  });

  // init
  renderList();
  load(0, false);
</script>
</body>
</html>
